var NewTabEDK,main=main||{};main.General=function(){},main.General.prototype={init:function(){NewTabEDK.init(),NewTabEDK.translations(),NewTabEDK.PopupListener()}},$(document).ready(function(){(new main.General).init()}),NewTabEDK={init:function(){chrome.storage.sync.get(["dk"],function(e){NewTabEDK.toggleDK("enabled"!==e.dk)})},translations:function(){for(var e=$("[data-i18n]"),n=0;n<e.length;++n){var t=e[n],o=t.getAttribute("data-i18n");t.innerHTML=NewTabEDK.getTranslation(o)}},getTranslation:function(e,n){return chrome.i18n.getMessage(e)},toggleDK:function(e){!0===e?$("body").addClass("EDK__body"):!1===e?$("body").removeClass("EDK__body"):$("body").toggleClass("EDK__body")},PopupListener:function(){chrome.extension.onRequest.addListener(function(e,n,t){switch(console.log(e.action),e.action){case"switch":NewTabEDK.toggleDK(),t({done:"switch"});break;case"redirect":chrome.storage.sync.get(["url"],function(e){var n=e.url;chrome.storage.sync.set({url:""}),window.location.href=n,t({done:"redirect to"+n})});break;case"testConnection":t({done:"ConnectionSuccess"});break;default:t({done:"no action"})}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3RhYi5qcyJdLCJuYW1lcyI6WyJOZXdUYWJFREsiLCJtYWluIiwiR2VuZXJhbCIsInByb3RvdHlwZSIsImluaXQiLCJ0cmFuc2xhdGlvbnMiLCJQb3B1cExpc3RlbmVyIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjaHJvbWUiLCJzdG9yYWdlIiwic3luYyIsImdldCIsIml0ZW0iLCJ0b2dnbGVESyIsImRrIiwidHJhbnNsYXRlX2VsbXRzIiwiaSIsImxlbmd0aCIsImtleSIsImdldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsImdldFRyYW5zbGF0aW9uIiwicGFyYW1zIiwiaTE4biIsImdldE1lc3NhZ2UiLCJzdGF0ZSIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJ0b2dnbGVDbGFzcyIsImV4dGVuc2lvbiIsIm9uUmVxdWVzdCIsImFkZExpc3RlbmVyIiwicmVxdWVzdCIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCJhY3Rpb24iLCJkb25lIiwicmVzdWx0IiwidXJsIiwic2V0Iiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFDQSxJQW1CQUEsVUFuQkFDLEtBQUFBLE1BQUEsR0FFQUEsS0FBQUMsUUFBQSxhQUdBRCxLQUFBQyxRQUFBQyxVQUFBLENBQ0FDLEtBQUEsV0FDQUosVUFBQUksT0FDQUosVUFBQUssZUFDQUwsVUFBQU0sa0JBSUFDLEVBQUFDLFVBQUFDLE1BQUEsWUFDQSxJQUFBUixLQUFBQyxTQUNBRSxTQUtBSixVQUFBLENBQ0FJLEtBQUEsV0FDQU0sT0FBQUMsUUFBQUMsS0FBQUMsSUFBQSxDQUFBLE1BQUEsU0FBQUMsR0FDQWQsVUFBQWUsU0FBQSxZQUFBRCxFQUFBRSxPQUdBWCxhQUFBLFdBRUEsSUFEQSxJQUFBWSxFQUFBVixFQUFBLGVBQ0FXLEVBQUEsRUFBQUEsRUFBQUQsRUFBQUUsU0FBQUQsRUFBQSxDQUNBLElBQUFKLEVBQUFHLEVBQUFDLEdBQ0FFLEVBQUFOLEVBQUFPLGFBQUEsYUFDQVAsRUFBQVEsVUFBQXRCLFVBQUF1QixlQUFBSCxLQUdBRyxlQUFBLFNBQUFILEVBQUFJLEdBQ0EsT0FBQWQsT0FBQWUsS0FBQUMsV0FBQU4sSUFFQUwsU0FBQSxTQUFBWSxJQUNBLElBQUFBLEVBQ0FwQixFQUFBLFFBQUFxQixTQUFBLGNBQ0EsSUFBQUQsRUFDQXBCLEVBQUEsUUFBQXNCLFlBQUEsYUFFQXRCLEVBQUEsUUFBQXVCLFlBQUEsY0FHQXhCLGNBQUEsV0FDQUksT0FBQXFCLFVBQUFDLFVBQUFDLFlBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxPQURBQyxRQUFBQyxJQUFBSixFQUFBSyxRQUNBTCxFQUFBSyxRQUNBLElBQUEsU0FDQXZDLFVBQUFlLFdBQ0FxQixFQUFBLENBQUFJLEtBQUEsV0FDQSxNQUVBLElBQUEsV0FDQTlCLE9BQUFDLFFBQUFDLEtBQUFDLElBQUEsQ0FBQSxPQUFBLFNBQUE0QixHQUNBLElBQUFDLEVBQUFELEVBQUFDLElBQ0FoQyxPQUFBQyxRQUFBQyxLQUFBK0IsSUFBQSxDQUFBRCxJQUFBLEtBRUFFLE9BQUFDLFNBQUFDLEtBQUFKLEVBQ0FOLEVBQUEsQ0FBQUksS0FBQSxjQUFBRSxNQUVBLE1BRUEsSUFBQSxpQkFDQU4sRUFBQSxDQUFBSSxLQUFBLHNCQUNBLE1BRUEsUUFDQUosRUFBQSxDQUFBSSxLQUFBIiwiZmlsZSI6Im5ld3RhYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIERlY2xhcmUgbmFtZXNwYWNlXG52YXIgbWFpbiA9IG1haW4gfHwge307XG5cbm1haW4uR2VuZXJhbCA9IGZ1bmN0aW9uICgpIHtcbn07XG5cbm1haW4uR2VuZXJhbC5wcm90b3R5cGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICBOZXdUYWJFREsuaW5pdCgpO1xuICAgICAgICBOZXdUYWJFREsudHJhbnNsYXRpb25zKCk7XG4gICAgICAgIE5ld1RhYkVESy5Qb3B1cExpc3RlbmVyKCk7XG4gICAgfVxufTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBnID0gbmV3IG1haW4uR2VuZXJhbCgpO1xuICAgIGcuaW5pdCgpO1xufSk7XG5cbi8vU3RhcnRcbnZhciBOZXdUYWJFREs7XG5OZXdUYWJFREsgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsnZGsnXSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgTmV3VGFiRURLLnRvZ2dsZURLKGl0ZW0uZGsgIT09ICdlbmFibGVkJyk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgdHJhbnNsYXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRyYW5zbGF0ZV9lbG10cyA9ICQoXCJbZGF0YS1pMThuXVwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFuc2xhdGVfZWxtdHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdHJhbnNsYXRlX2VsbXRzW2ldO1xuICAgICAgICAgICAgdmFyIGtleSA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWkxOG4nKTtcbiAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gTmV3VGFiRURLLmdldFRyYW5zbGF0aW9uKGtleSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldFRyYW5zbGF0aW9uOiBmdW5jdGlvbihrZXksIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZShrZXkpO1xuICAgIH0sXG4gICAgdG9nZ2xlREs6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgIGlmKHN0YXRlID09PSB0cnVlKSB7XG4gICAgICAgICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ0VES19fYm9keScpO1xuICAgICAgICB9IGVsc2UgaWYoc3RhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ0VES19fYm9keScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdFREtfX2JvZHknKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgUG9wdXBMaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaHJvbWUuZXh0ZW5zaW9uLm9uUmVxdWVzdC5hZGRMaXN0ZW5lcihcbiAgICAgICAgICBmdW5jdGlvbiAocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdC5hY3Rpb24pO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHJlcXVlc3QuYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3dpdGNoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgTmV3VGFiRURLLnRvZ2dsZURLKCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAnc3dpdGNoJ30pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVkaXJlY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldChbJ3VybCddLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHQudXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7dXJsOiAnJ30pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe2RvbmU6ICdyZWRpcmVjdCB0bycgKyB1cmx9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSBcInRlc3RDb25uZWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAnQ29ubmVjdGlvblN1Y2Nlc3MnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAnbm8gYWN0aW9uJ30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbn07XG4iXX0=
