var NewTabEDK,main=main||{};main.General=function(){},main.General.prototype={init:function(){NewTabEDK.init(),NewTabEDK.translations(),NewTabEDK.PopupListener()}},$(document).ready(function(){(new main.General).init()}),NewTabEDK={init:function(){chrome.storage.sync.get(["dk"],function(n){NewTabEDK.toggleDK("enabled"!==n.dk)}),setTimeout(function(){$("body").addClass("transitions")},333)},translations:function(){for(var n=$("[data-i18n]"),e=0;e<n.length;++e){var t=n[e],o=t.getAttribute("data-i18n");t.innerHTML=NewTabEDK.getTranslation(o)}},getTranslation:function(n,e){return chrome.i18n.getMessage(n)},toggleDK:function(n){!0===n?$("body").addClass("EDK__body"):!1===n?$("body").removeClass("EDK__body"):$("body").toggleClass("EDK__body")},PopupListener:function(){chrome.extension.onRequest.addListener(function(n,e,t){switch(console.log(n.action),n.action){case"switch":NewTabEDK.toggleDK(),t({done:"switch"});break;case"redirect":chrome.storage.sync.get(["url"],function(n){var e=n.url;chrome.storage.sync.set({url:""}),window.location.href=e,t({done:"redirect to"+e})});break;case"testConnection":t({done:"ConnectionSuccess"});break;default:t({done:"no action"})}})}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3RhYi5qcyJdLCJuYW1lcyI6WyJOZXdUYWJFREsiLCJtYWluIiwiR2VuZXJhbCIsInByb3RvdHlwZSIsImluaXQiLCJ0cmFuc2xhdGlvbnMiLCJQb3B1cExpc3RlbmVyIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjaHJvbWUiLCJzdG9yYWdlIiwic3luYyIsImdldCIsIml0ZW0iLCJ0b2dnbGVESyIsImRrIiwic2V0VGltZW91dCIsImFkZENsYXNzIiwidHJhbnNsYXRlX2VsbXRzIiwiaSIsImxlbmd0aCIsImtleSIsImdldEF0dHJpYnV0ZSIsImlubmVySFRNTCIsImdldFRyYW5zbGF0aW9uIiwicGFyYW1zIiwiaTE4biIsImdldE1lc3NhZ2UiLCJzdGF0ZSIsInJlbW92ZUNsYXNzIiwidG9nZ2xlQ2xhc3MiLCJleHRlbnNpb24iLCJvblJlcXVlc3QiLCJhZGRMaXN0ZW5lciIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiLCJjb25zb2xlIiwibG9nIiwiYWN0aW9uIiwiZG9uZSIsInJlc3VsdCIsInVybCIsInNldCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiJdLCJtYXBwaW5ncyI6IkFBQ0EsSUFtQkFBLFVBbkJBQyxLQUFBQSxNQUFBLEdBRUFBLEtBQUFDLFFBQUEsYUFHQUQsS0FBQUMsUUFBQUMsVUFBQSxDQUNBQyxLQUFBLFdBQ0FKLFVBQUFJLE9BQ0FKLFVBQUFLLGVBQ0FMLFVBQUFNLGtCQUlBQyxFQUFBQyxVQUFBQyxNQUFBLFlBQ0EsSUFBQVIsS0FBQUMsU0FDQUUsU0FLQUosVUFBQSxDQUNBSSxLQUFBLFdBQ0FNLE9BQUFDLFFBQUFDLEtBQUFDLElBQUEsQ0FBQSxNQUFBLFNBQUFDLEdBQ0FkLFVBQUFlLFNBQUEsWUFBQUQsRUFBQUUsTUFHQUMsV0FBQSxXQUNBVixFQUFBLFFBQUFXLFNBQUEsZ0JBQ0EsTUFFQWIsYUFBQSxXQUVBLElBREEsSUFBQWMsRUFBQVosRUFBQSxlQUNBYSxFQUFBLEVBQUFBLEVBQUFELEVBQUFFLFNBQUFELEVBQUEsQ0FDQSxJQUFBTixFQUFBSyxFQUFBQyxHQUNBRSxFQUFBUixFQUFBUyxhQUFBLGFBQ0FULEVBQUFVLFVBQUF4QixVQUFBeUIsZUFBQUgsS0FHQUcsZUFBQSxTQUFBSCxFQUFBSSxHQUNBLE9BQUFoQixPQUFBaUIsS0FBQUMsV0FBQU4sSUFFQVAsU0FBQSxTQUFBYyxJQUNBLElBQUFBLEVBQ0F0QixFQUFBLFFBQUFXLFNBQUEsY0FDQSxJQUFBVyxFQUNBdEIsRUFBQSxRQUFBdUIsWUFBQSxhQUVBdkIsRUFBQSxRQUFBd0IsWUFBQSxjQUdBekIsY0FBQSxXQUNBSSxPQUFBc0IsVUFBQUMsVUFBQUMsWUFDQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLE9BREFDLFFBQUFDLElBQUFKLEVBQUFLLFFBQ0FMLEVBQUFLLFFBQ0EsSUFBQSxTQUNBeEMsVUFBQWUsV0FDQXNCLEVBQUEsQ0FBQUksS0FBQSxXQUNBLE1BRUEsSUFBQSxXQUNBL0IsT0FBQUMsUUFBQUMsS0FBQUMsSUFBQSxDQUFBLE9BQUEsU0FBQTZCLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUMsSUFDQWpDLE9BQUFDLFFBQUFDLEtBQUFnQyxJQUFBLENBQUFELElBQUEsS0FFQUUsT0FBQUMsU0FBQUMsS0FBQUosRUFDQU4sRUFBQSxDQUFBSSxLQUFBLGNBQUFFLE1BRUEsTUFFQSxJQUFBLGlCQUNBTixFQUFBLENBQUFJLEtBQUEsc0JBQ0EsTUFFQSxRQUNBSixFQUFBLENBQUFJLEtBQUEiLCJmaWxlIjoibmV3dGFiLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRGVjbGFyZSBuYW1lc3BhY2VcbnZhciBtYWluID0gbWFpbiB8fCB7fTtcblxubWFpbi5HZW5lcmFsID0gZnVuY3Rpb24gKCkge1xufTtcblxubWFpbi5HZW5lcmFsLnByb3RvdHlwZSA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIE5ld1RhYkVESy5pbml0KCk7XG4gICAgICAgIE5ld1RhYkVESy50cmFuc2xhdGlvbnMoKTtcbiAgICAgICAgTmV3VGFiRURLLlBvcHVwTGlzdGVuZXIoKTtcbiAgICB9XG59O1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGcgPSBuZXcgbWFpbi5HZW5lcmFsKCk7XG4gICAgZy5pbml0KCk7XG59KTtcblxuLy9TdGFydFxudmFyIE5ld1RhYkVESztcbk5ld1RhYkVESyA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsnZGsnXSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIE5ld1RhYkVESy50b2dnbGVESyhpdGVtLmRrICE9PSAnZW5hYmxlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygndHJhbnNpdGlvbnMnKTtcbiAgICAgICAgfSwgMzMzKVxuICAgIH0sXG4gICAgdHJhbnNsYXRpb25zOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGVfZWxtdHMgPSAkKFwiW2RhdGEtaTE4bl1cIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNsYXRlX2VsbXRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRyYW5zbGF0ZV9lbG10c1tpXTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pMThuJyk7XG4gICAgICAgICAgICBpdGVtLmlubmVySFRNTCA9IE5ld1RhYkVESy5nZXRUcmFuc2xhdGlvbihrZXkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRUcmFuc2xhdGlvbjogZnVuY3Rpb24gKGtleSwgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBjaHJvbWUuaTE4bi5nZXRNZXNzYWdlKGtleSk7XG4gICAgfSxcbiAgICB0b2dnbGVESzogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgJCgnYm9keScpLmFkZENsYXNzKCdFREtfX2JvZHknKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICQoJ2JvZHknKS5yZW1vdmVDbGFzcygnRURLX19ib2R5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCdib2R5JykudG9nZ2xlQ2xhc3MoJ0VES19fYm9keScpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBQb3B1cExpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNocm9tZS5leHRlbnNpb24ub25SZXF1ZXN0LmFkZExpc3RlbmVyKFxuICAgICAgICAgICAgZnVuY3Rpb24gKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVxdWVzdC5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocmVxdWVzdC5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN3aXRjaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgTmV3VGFiRURLLnRvZ2dsZURLKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe2RvbmU6ICdzd2l0Y2gnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVkaXJlY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5zdG9yYWdlLnN5bmMuZ2V0KFsndXJsJ10sIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0LnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLnNldCh7dXJsOiAnJ30pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAncmVkaXJlY3QgdG8nICsgdXJsfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXN0Q29ubmVjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAnQ29ubmVjdGlvblN1Y2Nlc3MnfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtkb25lOiAnbm8gYWN0aW9uJ30pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG59O1xuIl19
